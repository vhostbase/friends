<!doctype html>
<html lang="en" manifest="halma.appcache">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <script src='font/font.js'></script>
	<!-- <link rel="stylesheet" href="releases/v5.0.10/css/all.css" crossorigin="anonymous"> -->
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="bootstrap/4.4.1/css/bootstrap.min.css" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/cropper/2.3.4/cropper.min.css'>
    <link rel="stylesheet" href="./load-style.css">
    <link rel="stylesheet" href="style.css">
    <!-- My style -->
    <link rel="stylesheet" href="chat-style.css">
    <title>FriendShip</title>
  </head>
  <body onunload="onLoggOff()">
  	<!-- <progress id="progress" value="0" max="100" style="width: 100%;"></progress> -->
    <div class="container-fluid main no-scroll">
        <div class="row no-scroll">
            <div id="contactPanel" class="d-none col-lg-4 col-sm-12 left no-scroll" style="position: fixed;">
            	<div id="header">
	                <div class="row icons">
	                    <div class="profile-img">
	                        <span class="cursor-class">
	                            <img id="profile-pic" class="rounded-circle circled-image">
	                            <span id="currentId" style="display:none;"></span>
	                            <span id="currentName" style="display:none;"></span>
	                        </span>
	                    </div>
	                    <div class="utility-icons cursor-class">
	                        <img src="../img/status-icon-img.PNG">
	                        <img src="../img/new-chat-icon.PNG">
	                        <img src="../img/menu-icon.PNG" data-toggle="dropdown">
							<div class="dropdown-menu dropdown-menu-right">
								<a class="dropdown-item" href="#">New Group</a>
								<a class="dropdown-item" href="#">Archived</a>
								<a class="dropdown-item" href="#">Starred</a>
								<a class="dropdown-item" href="#">Settings</a>
								<a class="dropdown-item" href="#">Log Out</a>
							</div>
	                    </div>                  
	                </div>
	                <div class="row search-bar">
	                    <div class="col-12">
	                       <input id="contactSearch" type="text" class="form-control form-control-sm" placeholder="Search or start new text">
	                    </div>
	                </div>
                </div>
                <div class="row recent-chats">
                    <div class="col-12 scrollClass">
                    	<ul class="list-chats"></ul>
                    </div>
                </div>
            </div>
			<div id="allContactsPanel" class="d-none col-lg-4 col-xs-12 left">
	            <div id="searchHdr"></div>
				<div class="row recent-chats">
                    <div class="col-12">
                            <ul class="list-chats"></ul>
                    </div>
                </div>
            </div>            
			<div id="chgProfile" class="d-none col-lg-4 col-xs-12 left no-scroll">
	            <div class="row icons d-flex justify-content-end profile-section-top">
	            	<div id="prfBack" class="p-2 profile-section-top-text" style="cursor:pointer;"><i class="fas fa-arrow-left text-white"></i></div>
				  <div class="mr-auto p-2 profile-section-top-text">Profile</div>
				  <div class="p-2 profile-section-top-text" style="cursor:pointer;"><i id="chgRegister" class="fas text-white"></i></div>
				</div>
				<div class="scrollClass2">
	                <div class="row profile-section-pic">
	                    <img id="profilePhoto" alt="" style="cursor:pointer;" class="rounded-circle circled-image-profile">
	                </div>
	                <div class="row profile-section-info">
	                    <div class="container-group">
	                        <div class="row">
	                            <span>Your Name</span>
	                        </div>
	                        <div class="row push-down">
	                            <span id="lbl_contact_name">Enter Your Name</span>
	                            <input type="text" id="contact_name" style="display:none;"></input>
	                            <span id="edit_name" style="padding-right:10px;"><i class="fas fa-pencil-alt text-black"></i></span>
	                        </div>
	                    </div>
	                </div>
	                <div class="row profile-section-warning">
	                    <span>This is not your username or pin. This name will be visible to your FriendShipApp contacts.</span>
	                </div>
	                <div class="row  profile-section-about">
	                    <div class="container-group">
	                        <div class="row">
	                            <span>About</span>
	                        </div>
	                        <div class="row push-down">
	                            <span id="lbl_contact_desc">Hi I am Available</span>
	                            <input type="text" id="contact_desc" style="display:none;"></input>
	                            <span id="edit_about" style="padding-right:10px;"><i class="fas fa-pencil-alt text-black"></i></span>
	                        </div>
	                    </div>
	                </div>
                </div>
            </div>
			<div id="videoCall" class="d-none col-lg-4 col-xs-12 left no-scroll">
	            <div class="row icons d-flex justify-content-end profile-section-top">
	            	<div id="prfBack" class="p-2 profile-section-top-text" style="cursor:pointer;"><i class="fas fa-arrow-left text-white"></i></div>
				  <div class="mr-auto p-2 profile-section-top-text">Video Call</div>
				  <div class="p-2 profile-section-top-text" style="cursor:pointer;"><i id="chgRegister" class="fas text-white"></i></div>
				</div>
				<div class="scrollClass2">
					<video autoplay muted loop id="chatter-capture">
					  <source type="video/mp4">
					  Your browser does not support HTML5 video.
					</video>	
	                <div class="row profile-section-info">
	                    <div class="container-group">
	                        <div class="row">
	                            <span>&nbsp;</span>
	                        </div>
	                        <div class="row push-down">
	                            <video id="user-capture" autoplay muted loop>
								  <source type="video/mp4">
								  Your browser does not support HTML5 video.
								</video>
	                        </div>
	                    </div>
	                </div>					
					<div class="row enter-chat chat-bar conversation-compose" style="position: absolute;bottom: 10%;width: 100%;">
		                <button class="send">
		                    <div class="circle">
		                      <span><i class="fas fa-camera"></i></span>
		                    </div>
		                  </button>
		                  <button class="send">
		                    <div class="circle">
		                      <span><i class="fas fa-phone"></i></span>
		                    </div>
		                  </button>
		                  <button class="send">
		                    <div class="circle">
		                      <span><i class="fas fa-microphone"></i></span>
		                    </div>
		                  </button>
                	</div>					
                </div>
            </div>            
			<div id="newGrpPanel" class="d-none col-lg-4 col-xs-12 left">
	            <div class="row icons d-flex justify-content-end profile-section-top">
	            	<div class="p-2 profile-section-top-text" style="cursor:pointer;"><i class="fas fa-arrow-left text-white"></i></div>
				  <div class="mr-auto p-2 profile-section-top-text">New Group</div>
				  <div class="p-2 profile-section-top-text cursor-class"><i class="fas fa-search text-white"></i></div>
				</div>
                <div class="row profile-section-info">
                    <div class="container-group">
                        <div class="row push-down">
                        	<input type="file" id="group-pic-input" class="d-none">
                        	<img id="groupPic" class="rounded-circle circled-image">
                            <input type="text" id="group_name" placeholder="Type Group Name/Subject"></input>
                            <span><i class="fas fa-smile"></i></span>
                        </div>
                    </div>
                </div>
                <div class="row profile-section-warning">
                    <span>This is not your username or pin. This name will be visible to your FriendShipApp contacts.</span>
                </div>				
				<div class="row recent-chats">
                    <div class="col-12">
                            <ul class="list-group-contacts"></ul>
                    </div>
                </div>
            </div>           

			<div id="createGroupPanel" class="d-none col-lg-4 col-xs-12 left">
	            <div class="row icons d-flex justify-content-end profile-section-top">
	            	<div class="p-2 profile-section-top-text" style="cursor:pointer;"><i class="fas fa-arrow-left text-white"></i></div>
				  <div class="mr-auto p-2 profile-section-top-text">Create Group</div>
				  <div class="p-2 profile-section-top-text cursor-class"><i class="fas fa-search text-white"></i></div>
				</div>
				<div class="row recent-chats">
                    <div class="col-12 scrollClass">
                            <ul class="list-select-contacts">
                                    </ul>
                    </div>
                </div>
            </div>
			<div id="grpProfile" class="d-none col-lg-4 col-xs-12 left">
	            <div class="row icons d-flex justify-content-end profile-section-top">
	            	<div id="prfBack" class="p-2 profile-section-top-text" style="cursor:pointer;"><i class="fas fa-arrow-left text-white"></i></div>
				  <div class="mr-auto p-2 profile-section-top-text"><span id="groupId">Profile</span></div>
				  <div class="p-2 profile-section-top-text" style="cursor:pointer;"><i class="fas fa-check text-white"></i></div>
				</div>
				<div class="scrollClass2">
	                <div class="row profile-section-pic">
	                	<input type="file" id="profile-pic-input" class="d-none" accept="image/*">
	                    <img id="profilePhoto" alt="" style="cursor:pointer;" class="rounded-circle circled-image-profile">
	                </div>
	                <div class="row profile-section-about">
	                    <div class="container-group2">
	                        <div class="row push-down">
	                            <span id="lbl_group_name">Group Name</span>
	                            <input type="text" id="group_name_desc" style="display:none;margin-top: 5px;"></input>
	                            <i class="fas fa-pencil-alt text-black" style="padding-right: 20px;"></i>
	                            <!-- <img src="../img/edit-icon.PNG" alt="" style="cursor:pointer;"> -->
	                        </div>
	                    </div>
	                </div>
	                <div class="row  profile-section-about">
	                    <div class="container-group2">
	                        <div class="row push-down">
	                            <span id="lbl_participant_desc">Participants</span>
	                            <input type="text" id="participant_desc" style="display:none;"></input>
	                            <span style="padding-right:10px;"><i class="fas fa-user-plus"></i></span>
	                        </div>
	                    </div>
	                </div>
	                <div class="row recent-chats2">
	                    <div class="col-12">
	                            <ul class="list-contact-details"></ul>
	                    </div>
	                </div>
                </div>
            </div>
			<div id="ImageCropper" class="d-none col-lg-4 col-xs-12 left">
            	<div class="row icons d-flex justify-content-end profile-section-top">
	            	<div class="p-2 profile-section-top-text" style="cursor:pointer;"><i class="fas fa-arrow-left text-white"></i></div>
				  	<div class="mr-auto p-2 profile-section-top-text">Photo Crop</div>
				  	<div class="p-2 profile-section-top-text" style="cursor:pointer;"><i class="fas fa-check text-white"></i></div>
				</div>
				<main>
					<div class="box d-none">
						<input type="file" id="file-input" accept="image/*">
					</div>				
					<div class="box-2">
						<div class="result">
							<img id="origImg"></img>
						</div>
					</div>
					<div class="box">
						<div class="options hide">
							<!-- <label> Width</label> -->
							<input type="number" class="img-w d-none" value="300" min="100" max="1200" />
						</div>
					</div>
				</main>
            </div>                
            <div id="userProfile" class="d-none col-lg-4 col-xs-12 left">
            	<div id="searchHdr"></div>
                <div class="row profile-section-pic">
                	<input type="file" id="profile-pic-input" class="d-none" accept="image/*">
                    <img id="profilePhoto" alt="" style="cursor:pointer;" class="rounded-circle circled-image-profile">
                </div>
                <div class="row profile-section-about">
                    <div class="container-group2">
                        <div class="row push-down">
                            <span id="lbl_contact_name">Group Name</span>
                        </div>
                    </div>
                </div>
				<div class="row  profile-section-about">
                    <div class="container-group">
                        <div class="row">
                            <span>About and Phone number</span>
                        </div>
                        <div class="row push-down">
                            <span id="lbl_contact_desc">Hi I am Available</span>
                        </div>
                        <div class="row push-down">
                            <span id="lbl_mobile_desc">XXXX344</span>
                        </div>                        
                    </div>
                </div>
                <div class="row profile-section-about">
                    <div class="container-group">
                        <div class="row">
                            <span>Block</span>
                        </div>
                    </div>
                </div>
                <div class="row profile-section-about">
                    <div class="container-group">
                        <div class="row">
                            <span>Report contact</span>
                        </div>
                    </div>
                </div>                                                                
				<div class="row recent-chats">
                    <div class="col-12">
                            <ul class="list-contact-details"></ul>
                    </div>
                </div>
            </div>
			<div id="chatbody" class="d-none col-lg-8 col-xs-12 right" style="position: fixed;">
                <div class="row icons user-info-right">
                	<div class="row d-flex flex-row align-items-center p-2 m-0 w-100" id="navbar"></div>
                </div>
                <div class="container" style="width: 103%;padding-left: 1px;height: 100%;overflow: scroll;">
                	<div class="chat-window"></div>
                	<div class="row icons enter-chat chat-bar conversation-compose" style="position: absolute;bottom: 1px;width: 100%;">
		                <div class="emoji">
		                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" id="smiley" x="3147" y="3209"><path fill-rule="evenodd" clip-rule="evenodd" d="M9.153 11.603c.795 0 1.44-.88 1.44-1.962s-.645-1.96-1.44-1.96c-.795 0-1.44.88-1.44 1.96s.645 1.965 1.44 1.965zM5.95 12.965c-.027-.307-.132 5.218 6.062 5.55 6.066-.25 6.066-5.55 6.066-5.55-6.078 1.416-12.13 0-12.13 0zm11.362 1.108s-.67 1.96-5.05 1.96c-3.506 0-5.39-1.165-5.608-1.96 0 0 5.912 1.055 10.658 0zM11.804 1.01C5.61 1.01.978 6.034.978 12.23s4.826 10.76 11.02 10.76S23.02 18.424 23.02 12.23c0-6.197-5.02-11.22-11.216-11.22zM12 21.355c-5.273 0-9.38-3.886-9.38-9.16 0-5.272 3.94-9.547 9.214-9.547a9.548 9.548 0 0 1 9.548 9.548c0 5.272-4.11 9.16-9.382 9.16zm3.108-9.75c.795 0 1.44-.88 1.44-1.963s-.645-1.96-1.44-1.96c-.795 0-1.44.878-1.44 1.96s.645 1.963 1.44 1.963z" fill="#7d8489"></path></svg>
		                </div>
		                <input class="input-msg" id="inputMsg" name="input" placeholder="Type a message" autocomplete="off" autofocus="">
		                <div class="photo">
		                  <i class="fas fa-paperclip"></i>
		                </div>
		                <div class="photo">
		                  <i class="fas fa-camera"></i>
		                </div>		                
		                <button class="send">
		                    <div class="circle">
		                      <span id="ipControl"><i id="inputControl" class="fas fa-microphone"></i></span>
		                    </div>
		                  </button>
                	</div>
					<!-- <div class="row icons enter-chat chat-bar" style="position: absolute;bottom: 1px;width: 100%;">
	                    <div class="cursor-class" style="padding-left:0px;">
	                        <span style="padding-left:0px; margin-right:10px;cursor:pointer;" onclick="takePhoto();"><i class="fas fa-smile"></i></span>
	                    </div>
	                    <div class="enter-chat input-box" style="width: 60%;">
	                        <input id="inputMsg" type="text" class="form-control" placeholder="Type a message">
	                    </div>
	                    <div>
	                    	<input id="attachImg" type="file" multiple accept='image/*' style="display:none;">
	                    	<span style="margin-left:10px;cursor:pointer;"><i class="fas fa-paperclip"></i></span>
	                    </div>
	                    <div>
	                    	<span style="margin-left:10px;cursor:pointer;"><i class="fas fa-camera"></i></span>
	                    </div>
	                    <div>
	                    	<span>&nbsp;</span>
	                    </div>
	                    <div>
	                    	<span id="ipControl" style="margin-left:10px;cursor:pointer;"><i id="inputControl" class="fas fa-microphone"></i></span>
	                    </div>
	                </div>  -->               	
                </div>
            </div>  
			<div id="chatimg" class="d-none col-lg-8 col-xs-12 right" style="position: fixed;">
				<!-- <input id="attachImg" type="file" multiple accept='image/*' style="display:none;"> -->
            	<div class="row icons d-flex justify-content-end profile-section-top">
	            	<div class="p-2 profile-section-top-text" style="cursor:pointer;"><i class="fas fa-arrow-left text-white"></i></div>
				  	<div class="mr-auto p-2 profile-section-top-text">Photo Crop</div>
				  	<!-- <div class="p-2 profile-section-top-text" style="cursor:pointer;"><i class="fas fa-check text-white"></i></div> -->
				</div>
				<div class="container" style="width: 103%;padding-left: 1px;height: 100%;overflow: scroll;">
                	<div class="chat-window">
                		<img id="imgMsg"></img>
                	</div>
					<div class="row icons enter-chat chat-bar" style="position: absolute;bottom: 1px;width: 100%;">
	                    <div class="cursor-class" style="padding-left:0px;">
	                        <span style="padding-left:0px; margin-right:10px;cursor:pointer;" onclick="takePhoto();"><i class="fas fa-smile"></i></span>
	                    </div>
	                    <div class="enter-chat input-box" style="width: 60%;">
	                        <input id="captionMsg" type="text" class="form-control" placeholder="Type a message">
	                    </div>
	                    <div>
	                    	<span>&nbsp;</span>
	                    </div>
	                    <div>
	                    	<span id="ipControl" style="margin-left:10px;cursor:pointer;"><i id="inputControl" class="fas fa-paper-plane"></i></span>
	                    </div>
	                </div>                	
                </div>				
            </div>             
            <div id="chatImgbody2" class="d-none col-lg-8 col-xs-12 right">
                <div class="row icons user-info-right">
	                <div class="row d-flex flex-row align-items-center p-2 m-0 w-100" id="navbar">
						<div class="d-block d-sm-none" onclick="showContactPanel();">
							<i class="fas fa-arrow-left p-2 mr-2 text-white" style="font-size: 1.0rem; cursor: pointer;" onclick="showContactPanel()"></i>
						</div>
						<a href="#"><img id="contactPhoto2" alt="Profile Photo" class="img-fluid rounded-circle mr-2" style="height:50px;" id="pic"></a>
						<div class="d-flex flex-column">
							<div class="text-white font-weight-bold" id="contactName2">Dee</div>
							<div class="text-white small" id="details">at 5:28 PM</div>
						</div>
						
						<div class="d-flex flex-row align-items-center ml-auto">
							<a href="#"><i class="fas fa-phone mx-3 text-white d-md-block"></i></a>
							<a href="#"><i class="fas fa-video mx-3 text-white d-md-block"></i></a>
							<a href="#"><i class="fas fa-ellipsis-v mr-2 mx-sm-3 text-white"></i></a>
						</div>
					</div>
					<span id="chatId" style="display:none;">Test</span>
                </div>
                <div class="container" style="width: 103%;">
                	<div class="chat-window">
                		<img id="imgMsg">
                	</div>
                </div>
                <div class="row icons enter-chat">
                    <div class="cursor-class" style="padding-left:0px;">
                        <span style="padding-left:0px; margin-right:10px;cursor:pointer;" onclick="takePhoto();"><i class="fas fa-smile"></i></span>
                    </div>
                    <div class="input-box">
                        <input id="inputMsg1" type="text" class="form-control" placeholder="Type a message" onKeyUp="flipControl(this);">
                    </div>
                    <div>
                    	<span>&nbsp;</span>
                    </div>
                    <div>
                    	<span style="margin-left:10px;cursor:pointer;" onclick="sendImgMessage();"><i id="inputImgControl" class="fas fa-paper-plane"></i></span>
                    </div>
                </div>
            </div>  
			<div id="register" class="d-none col-lg-4 col-xs-12 left">
	            <div class="row icons d-flex justify-content-end profile-section-top">
	            	<div id="prfBack" class="p-2 profile-section-top-text" style="cursor:pointer;"></i></div>
				  <div class="mr-auto p-2 profile-section-top-text">Registration</div>
				  <div class="p-2 profile-section-top-text" style="cursor:pointer;"><i class="fas fa-check text-white"></i></div>
				</div>
                <div class="scrollClass">
	                <div class="row profile-section-pic">
	                    <img id="profilePhoto" src="../img/watsapp-only.PNG">
	                </div>                
	                <div class="row profile-section-info">
	                    <div class="container-group">
	                        <div class="row">
	                            <span>Mobile Number</span>
	                        </div>
	                        <div class="row push-down">
	                            <span id="lbl_contact_nbr">Enter Your Mobile Number</span>
	                            <input type="text" id="contact_nbr" style="display:none;"></input>
	                            <span class="cursor-class" id="edit_mobile"><i class="fas fa-pencil-alt text-black" style="padding-right: 20px;"></i></span>
	                            <!-- <img src="../img/edit-icon.PNG" alt="" style="cursor:pointer;"> -->
	                        </div>
	                    </div>
	                </div>
	                <div class="row profile-section-warning">
	                    <span>This is not your username or pin. This name will be visible to your FriendShipApp contacts.</span>
	                </div>
                </div>
            </div>                                                      
            <div id="chatads" class="d-none col-lg-8 right">
            	<div class="text-center" style="margin:10px;">
                    <img src="../img/watsapp-only.PNG" alt="">
                    <p class="main-text font-weight-light">Keep your phone connected</p>
                    <p>
                        FriendShipApp connects to your phone to sync messages. To reduce data <br> usage, connect your phone to Wi-Fi.
                    </p>
                    <hr>
                    <p>
                        <img src="../img/computer-icon.PNG" alt="">
                        <span>
                            FriendShipApp is available for Windows. 
                            <a href="">Get it here</a>
                        </span>
                    </p>
                 </div>
            </div>                      
            </div>
        </div>
        <div class="loading d-none">Loading&#8230;</div>
<!--      <div class="modal fade" tabindex="-1" role="dialog" id="spinnerModal">
	    <div class="modal-dialog modal-dialog-centered text-center" role="document">
	        <span class="fa fa-spinner fa-spin fa-3x w-100"></span>
	    </div>
	</div> -->
	<div class="fab d-none"> <i class="fas fa-comment"></i></div>
	<div class="container">
	  <button id="dialogId" type="button" class="btn btn-primary  d-none" data-toggle="modal" data-target="#myModal"></button>
	  <div class="modal" id="myModal">
	    <div class="modal-dialog">
	      <div class="modal-content">
	        <div class="modal-body">
				<div class="row recent-perms">
                    <div class="col-12">
                            <ul class="list-group-perms"></ul>
                    </div>
                </div>
	        </div>
	      </div>
	    </div>
	  </div>
	  
	</div>		
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="jquery/jquery-1.12.4.min.js"></script>
    <script src="jsstore/jsstore.min.js"></script>
    <script src="ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
 	<script src="bootstrap/4.4.1/js/bootstrap.min.js"></script>
 	<script src="firebasejs/7.6.1/firebase-app.js"></script>
	<script src="firebasejs/7.6.1/firebase-auth.js"></script>
	<script src="firebasejs/7.6.1/firebase-database.js"></script>
	<script src="firebasejs/7.6.1/firebase-storage.js"></script>
	<script src="moment/moment.js"></script>
	<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/croppie/2.6.4/croppie.min.js"></script> -->
	  <script src='https://cdnjs.cloudflare.com/ajax/libs/cropperjs/0.8.1/cropper.min.js'></script>
	<script src="js/app.js"></script>
	<script src="js/Utility.js"></script>
	<script src="js/baseClass.js"></script>
	<script src="js/chatads.js"></script>
	<script src="js/register.js"></script>
	<!-- <script src="js/config.js"></script> -->
	<script src="js/jstorage.js"></script>
	<script src="js/chgProfile.js"></script>
	<script src="js/storage.js"></script>
	 <script src="js/provider.js"></script>
	 
	 <script src="js/contactPanel.js"></script>
	 <script src="js/chatbody.js"></script>
	 <script src="js/grpProfile.js"></script>
	 <script src="js/userProfile.js"></script>
	 <script src="js/allContactsPanel.js"></script>
	 <script src="js/createGroupPanel.js"></script>
	 <script src="js/newGrpPanel.js"></script>
	 <script src="js/ImageCropper.js"></script>
	 <script src="js/dialog.js"></script>
	 <script src="js/attachdialog.js"></script>
	 <script src="js/chatimg.js"></script>
	 <script src="js/videoCall.js"></script>
  </body>
</html>